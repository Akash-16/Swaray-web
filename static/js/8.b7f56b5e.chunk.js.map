{"version":3,"sources":["common/enum/pointsPackage.enum.ts","pages/PointsPackage/index.tsx"],"names":["PointsPackageType","MySubscriptionPage","React","useState","state","useLocation","enqueueSnackbar","useSnackbar","navigate","useNavigate","useQuery","pointsPackageName","Client","get","apiRoutes","pointsPackageList","params","type","data","isLoading","loading","className","map","item","index","cost","isValuePack","label","color","variant","onClick","routes","mySubscriptionPayment","selectedPoints","subscription","src","SwarayWhiteLogo","alt","oneTime","disabled","crypto","Fiat","Errors","subscriptionNotAllowed","preventDuplicate","persist","handleSubscriptionForCrypto","memo"],"mappings":"gHAAO,IAAKA,EAAZ,kCAIC,SAJWA,KAAiB,YAAjBA,EAAiB,gBAAjBA,EAAiB,UAI5B,CAJWA,MAAiB,I,2OCmCvBC,EAAqB,WAAO,IAAD,EAC/B,EAAwBC,IAAMC,UAAS,GAAM,mBAE7C,GAFW,KAAS,KAEwBD,IAAMC,YAA6B,mBAE/E,GAFqB,KAAmB,KAEID,IAAMC,UAAS,IAAM,mBAEzDC,GAFa,KAAmB,KAEtBC,cAAVD,OAEAE,EAAoBC,cAApBD,gBAEFE,EAAWC,cAEjB,EAA4BC,mBAAS,CAAC,oBAAqBN,EAAMO,mBAAkB,gCAAE,iHAC5EC,IAAOC,IAAIC,IAAUC,kBAAmB,CAC7CC,OAAQ,CACNC,KAAMb,EAAMO,sBAEd,4CALIO,EAAI,EAAJA,KAAMC,EAAS,EAATA,UAQRJ,EAA6C,OAAJG,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYA,KA4B3D,OACE,mCACGC,EACC,cAAC,IAAS,CAACC,QAASD,IAEpB,sBAAKE,UAAU,+BAA8B,UAC3C,oBAAIA,UAAU,wDAAuD,SAAC,+CAGtE,sBAAKA,UAAU,eAAc,UAC3B,qBAAKA,UAAU,WACf,sBAAKA,UAAU,qBAAoB,UACjC,mBAAGA,UAAU,2CAA0C,SAAC,eACxD,mBAAGA,UAAU,sCAAqC,SAAC,yBAErD,sBAAKA,UAAU,qBAAoB,UACjC,mBAAGA,UAAU,2CAA0C,SAAC,cACxD,mBAAGA,UAAU,sCAAqC,SAAC,wBAIrC,OAAjBN,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAmBO,KAAI,SAACC,EAAMC,GAAK,OAClC,qBAAiBH,UAAU,iBAAgB,SACzC,sBAAKA,UAAU,4BAA2B,UACxC,sBAAKA,UAAU,qBAAoB,UACjC,oBAAGA,UAAU,wCAAuC,UAAC,IAAEE,EAAKE,QAC3DF,EAAKG,aACJ,cAAC,IAAI,CAACC,MAAM,aAAaC,MAAM,YAAYP,UAAU,uBAGzD,qBAAKA,UAAU,qBAAoB,SACjC,eAAC,IAAM,CACLQ,QAAQ,WACRD,MAAM,UACNP,UAAU,oDAEVS,QAAS,kBACPtB,EAASuB,IAAOC,sBAAuB,CACrC5B,MAAM,aACJ6B,eAAgBV,EAChBW,cAAc,GACX9B,IAEL,EACH,UACD,qBACEiB,UAAU,mCACVc,IAAKC,IACLC,IAAI,gBAELd,EAAKe,aAGV,qBAAKjB,UAAU,qBAAoB,SACjC,eAAC,IAAM,CACLkB,SAAUnC,EAAMO,oBAAsBX,IAAkBwC,OACxDX,QAAQ,YACRD,MAAM,YACNP,UAAU,oDAEVS,QAAS,kBA9ES,SAACP,GAC/BnB,EAAMO,oBAAsBX,IAAkByC,KAChDjC,EAASuB,IAAOC,sBAAuB,CACrC5B,MAAM,aACJ6B,eAAgBV,EAChBW,cAAc,GACX9B,KAIPE,EAAgBoC,IAAOC,uBAAwB,CAC7CC,kBAAkB,EAClBC,SAAS,EACThB,QAAS,SAGf,CA8DiCiB,CAA4BvB,EAAK,EAAC,UACjD,qBACEF,UAAU,mCACVc,IAAKC,IACLC,IAAI,gBAELd,EAAKW,sBA5CJV,EA+IJ,IAER,qBAAKH,UAAU,QAAO,SACpB,mBAAGA,UAAU,yCAAwC,SAAC,suBAgBlE,EAEenB,cAAM6C,KAAK9C,E","file":"static/js/8.b7f56b5e.chunk.js","sourcesContent":["export enum PointsPackageType {\n  Fiat = 'fiat',\n  crypto = 'crypto',\n  Iap = 'iap'\n}\n","import React from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useQuery } from 'react-query';\nimport { useSnackbar } from 'notistack';\n\n//Material Design\nimport {\n  IconButton,\n  Dialog,\n  DialogContent,\n  Button,\n  Chip,\n  List,\n  ListItem,\n  ListItemText\n} from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport KeyboardArrowRightIcon from '@mui/icons-material/KeyboardArrowRight';\n\nimport { SwarayWhiteLogo } from '../../assets/img';\nimport { AppLoader } from '../../components';\n\n//styles\nimport { Client } from '../../config';\nimport { apiRoutes } from '../../constants/apiRoutes';\nimport { routes } from '../../constants/routes';\nimport { PoinstPackageList } from '../../common/interface/pointsPackage.interface';\nimport './style.scss';\nimport { PointsPackageType } from '../../common/enum/pointsPackage.enum';\nimport { Errors } from '../../constants/errors';\n\ninterface IsWallectConnected {\n  pointsPackageName: string;\n}\n\nconst MySubscriptionPage = () => {\n  const [open, setOpen] = React.useState(false);\n\n  const [selectedPoints, setSelectedPoints] = React.useState<PoinstPackageList>();\n\n  const [isSubscription, setIsSubScribtion] = React.useState(false);\n\n  const { state } = useLocation() as { state: IsWallectConnected };\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const navigate = useNavigate();\n\n  const { data, isLoading } = useQuery(['pointsPackageList', state.pointsPackageName], async () => {\n    return Client.get(apiRoutes.pointsPackageList, {\n      params: {\n        type: state.pointsPackageName\n      }\n    });\n  });\n\n  const pointsPackageList: PoinstPackageList[] = data?.data?.data;\n\n  const handleClose = () => setOpen(false);\n\n  const selectedPointsPackage = (data: PoinstPackageList, isSubscription: boolean) => {\n    setOpen(true);\n    setSelectedPoints(data);\n    setIsSubScribtion(isSubscription);\n  };\n\n  const handleSubscriptionForCrypto = (item: PoinstPackageList) => {\n    if (state.pointsPackageName === PointsPackageType.Fiat) {\n      navigate(routes.mySubscriptionPayment, {\n        state: {\n          selectedPoints: item,\n          subscription: true,\n          ...state\n        }\n      });\n    } else {\n      enqueueSnackbar(Errors.subscriptionNotAllowed, {\n        preventDuplicate: false,\n        persist: false,\n        variant: 'error'\n      });\n    }\n  };\n\n  return (\n    <>\n      {isLoading ? (\n        <AppLoader loading={isLoading} />\n      ) : (\n        <div className=\"my-subscription-content p-24\">\n          <h3 className=\"f-18 f-w-500 l-h-normal txt-primary text-center mb-16\">\n            Select Point Package or Point Subscription\n          </h3>\n          <div className=\"d-flex py-10\">\n            <div className=\"flex-1\"></div>\n            <div className=\"flex-1 text-center\">\n              <p className=\"f-18 f-w-500 l-h-normal txt-primary mb-4\">Buy Points</p>\n              <p className=\"f-12 f-w-500 l-h-normal txt-primary\">One time purchase</p>\n            </div>\n            <div className=\"flex-1 text-center\">\n              <p className=\"f-18 f-w-500 l-h-normal txt-primary mb-4\">Subscribe</p>\n              <p className=\"f-12 f-w-500 l-h-normal txt-primary\">and get more!</p>\n            </div>\n          </div>\n\n          {pointsPackageList?.map((item, index) => (\n            <div key={index} className=\"row-border-top\">\n              <div className=\"d-flex align-center py-10\">\n                <div className=\"flex-1 text-center\">\n                  <p className=\"f-16 f-w-600 l-h-normal txt-secondary\">${item.cost}</p>\n                  {item.isValuePack && (\n                    <Chip label=\"Value Pack\" color=\"secondary\" className=\"MuiChip-exSmall\" />\n                  )}\n                </div>\n                <div className=\"flex-1 text-center\">\n                  <Button\n                    variant=\"outlined\"\n                    color=\"inherit\"\n                    className=\"minw-96 MuiButton-sizeMedium text-secondary px-12\"\n                    // onClick={() => selectedPointsPackage(item, false)}\n                    onClick={() =>\n                      navigate(routes.mySubscriptionPayment, {\n                        state: {\n                          selectedPoints: item,\n                          subscription: false,\n                          ...state\n                        }\n                      })\n                    }>\n                    <img\n                      className=\"img subscription-button-img mr-8\"\n                      src={SwarayWhiteLogo}\n                      alt=\"Swaray Logo\"\n                    />\n                    {item.oneTime}\n                  </Button>\n                </div>\n                <div className=\"flex-1 text-center\">\n                  <Button\n                    disabled={state.pointsPackageName === PointsPackageType.crypto}\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    className=\"minw-96 MuiButton-sizeMedium text-secondary px-12\"\n                    // onClick={() => selectedPointsPackage(item, true)}\n                    onClick={() => handleSubscriptionForCrypto(item)}>\n                    <img\n                      className=\"img subscription-button-img mr-8\"\n                      src={SwarayWhiteLogo}\n                      alt=\"Swaray Logo\"\n                    />\n                    {item.subscription}\n                  </Button>\n                </div>\n              </div>\n\n              {/* Forgot Modal design */}\n              {/* <Dialog\n                onClose={handleClose}\n                aria-labelledby=\"customized-dialog-title\"\n                className=\"purchase-coins-modal\"\n                open={open}>\n                <DialogContent>\n                  <div className=\"d-flex align-center mb-24\">\n                    <IconButton onClick={handleClose} aria-label=\"close\">\n                      <CloseIcon className=\"f-24 txt-secondary mr-24\" />\n                    </IconButton>\n                    <div className=\"flex-1 text-center\">\n                      <p className=\"f-18 f-w-700 l-h-normal txt-primary pr-20\">Purchase Points</p>\n                    </div>\n                  </div>\n                  <div className=\"d-flex align-center mb-20\">\n                    <div>\n                      <p className=\"f-16 f-w-600 l-h-normal txt-secondary\">\n                        ${selectedPoints?.cost}\n                      </p>\n                      {selectedPoints?.isValuePack && (\n                        <Chip label=\"Value Pack\" color=\"secondary\" className=\"MuiChip-exSmall\" />\n                      )}\n                    </div>\n                    <div className=\"flex-1 pl-16\">\n                      {isSubscription ? (\n                        <Button\n                          variant=\"contained\"\n                          color=\"secondary\"\n                          className=\"minw-96 MuiButton-sizeMedium text-secondary px-12\"\n                          onClick={() => selectedPointsPackage(item, true)}>\n                          <img\n                            className=\"img subscription-button-img mr-8\"\n                            src={SwarayWhiteLogo}\n                            alt=\"Swaray Logo\"\n                          />\n                          {selectedPoints?.subscription}\n                        </Button>\n                      ) : (\n                        <Button\n                          variant=\"outlined\"\n                          color=\"inherit\"\n                          className=\"minw-96 MuiButton-sizeMedium button-selected text-secondary px-12\">\n                          <img\n                            className=\"img subscription-button-img mr-8\"\n                            src={SwarayWhiteLogo}\n                            alt=\"Swaray Logo\"\n                          />\n                          {selectedPoints?.oneTime}\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n\n                  <p className=\"f-18 f-w-500 l-h-22 txt-primary mw-300 mb-12\">\n                    Swaray Premium Subscription (2,000 Points)\n                  </p>\n                  <p className=\"f-14 f-w-400 l-h-normal txt-secondary mb-16\">One time Purchase</p>\n\n                  <List className=\"my-purchase-menu d-grid g-8\">\n                    <ListItem\n                      onClick={() =>\n                        navigate(routes.mySubscriptionPayment, {\n                          state: {\n                            selectedPoints,\n                            subscription: isSubscription\n                          }\n                        })\n                      }\n                      className=\"Mui-selected\">\n                      <div className=\"d-flex align-center justify-between w-100\">\n                        <div className=\"flex-1\">\n                          <ListItemText primary=\"Pay with Card\" />\n                          <p className=\"f-12 f-w-400 l-h-18 txt-secondary mt-6\">\n                            Buy Points with your Credit Card or Bank Account with Stripe.\n                          </p>\n                        </div>\n                        <KeyboardArrowRightIcon className=\"txt-secondary\" />\n                      </div>\n                    </ListItem>\n                    <ListItem disabled={!isSubscription && state.isWalletActive ? false : true}>\n                      <div className=\"d-flex align-center justify-between w-100\">\n                        <div className=\"flex-1\">\n                          <ListItemText primary=\"Pay with Crypto\" />\n                          <p className=\"f-12 f-w-400 l-h-18 txt-secondary mt-6\">\n                            Top off your balance with Crypto using your MetaMask Wallet.\n                          </p>\n                        </div>\n                        <KeyboardArrowRightIcon className=\"txt-secondary\" />\n                      </div>\n                    </ListItem>\n                  </List>\n                </DialogContent>\n              </Dialog> */}\n            </div>\n          ))}\n          <div className=\"mt-24\">\n            <p className=\"f-12 f-w-500 l-h-18 txt-tertiary mb-12\">\n              When you buy Swaray Points you receive only a limited, non-refundable,\n              non-transferable, revocable license to use Swaray Points, which has no value in real\n              currency. By selecting one of the Points Packages, (1) you agree that you are over 18\n              and that you authorize us to charge your account every month until you cancel the\n              subscription, and (2) you represent that you understand and agree to the Terms of Use,\n              which includes an agreement to arbitrate any dispute between you and Swaray, and\n              Privacy Policy. You can cancel at any time by clicking “Cancel subscription” on the\n              billing tab of the setting page. If you cancel, you will still be charged for the\n              current billing period. See Terms of Use for other limitations.\n            </p>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default React.memo(MySubscriptionPage);\n"],"sourceRoot":""}