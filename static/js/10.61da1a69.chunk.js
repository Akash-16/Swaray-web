(this["webpackJsonpswl-webapp"]=this["webpackJsonpswl-webapp"]||[]).push([[10],{342:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a={WallectConnect:"wallet Connected Successfully",removeCard:"Card removed Successfully"}},397:function(e,t,r){},471:function(e,t,r){"use strict";r.r(t);var a,c,s=r(0),n=r(9),i=r(15),l=r(1),o=r.n(l),d=r(22),m=r(83),u=r(143),j=r(123),p=r(327),b=r(100),f=(r(397),r(140)),h=r(142);!function(e){e.PAYMENT="payment",e.SUBSCRIPTION="subscription"}(a||(a={})),function(e){e.USD="usd"}(c||(c={}));var x=r(342),O=r(141),v=r(5),y=function(){var e=Object(l.useState)(!1),t=Object(i.a)(e,2),r=t[0],o=t[1],y=Object(d.l)().state,w=Object(u.b)().enqueueSnackbar,N=Object(m.c)((function(e){return null===e||void 0===e?void 0:e.userDetails})),C=N.isLoading,g=y,S=g.selectedPoints,P=g.subscription,k=Object(j.useQuery)("cardsList",(function(){return f.a.get(h.a.cardList)})),D=k.data,I=k.isLoading,T=k.refetch,L=null===D||void 0===D?void 0:D.data.data,M=function(){var e=Object(n.a)(Object(s.a)().mark((function e(){var t,r,n,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),t={productId:P?S.stripeProductId.subscription:S.stripeProductId.oneTime,paymentMethod:P?a.SUBSCRIPTION:a.PAYMENT,currency:c.USD},e.next=4,f.a.post(h.a.stripeCheckout,t);case 4:(r=e.sent).data?(o(!1),location.href=r.data.data):(o(!1),n=r.response.data,i=n.message,n.statusCode,w(i,{preventDuplicate:!1,persist:!1,variant:"error"}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(n.a)(Object(s.a)().mark((function e(t){var r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,f.a.delete("".concat(h.a.deleteCard).concat(t));case 4:r=e.sent,r.data.data&&(w(x.a.removeCard,{preventDuplicate:!1,persist:!1,variant:"error"}),T()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),w(O.a.appError,{preventDuplicate:!1,persist:!1,variant:"error"});case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"my-subscription-content p-24",children:Object(v.jsxs)("div",{className:"d-flex flex-column justify-between h-100",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{className:"f-18 f-w-500 l-h-normal txt-primary text-center mb-24",children:"Checkout"}),Object(v.jsx)(b.c,{selectedPoints:S,subscription:P}),Object(v.jsxs)("div",{className:"my-20",children:[Object(v.jsxs)("div",{className:"border-top-light py-16",children:[Object(v.jsxs)("div",{className:"d-flex justify-between",children:[Object(v.jsx)("p",{className:"f-16 f-w-400 l-h-normal txt-primary",children:"Subtotal"}),Object(v.jsxs)("p",{className:"f-16 f-w-400 l-h-normal txt-color-primary",children:["$",S.cost]})]}),Object(v.jsxs)("div",{className:"d-flex justify-between mt-10",children:[Object(v.jsxs)("p",{className:"f-16 f-w-400 l-h-normal txt-primary",children:["Processing Fee"," ",Object(v.jsx)("span",{className:"f-12",children:"(30 cents + 2.9%)"})]}),Object(v.jsx)("p",{className:"f-16 f-w-400 l-h-normal txt-color-primary",children:"$0.51"})]})]}),Object(v.jsxs)("div",{className:"d-flex justify-between py-12 border-top-light border-bottom-light",children:[Object(v.jsx)("p",{className:"f-16 f-w-700 l-h-normal txt-primary",children:"Total"}),Object(v.jsxs)("p",{className:"f-16 f-w-400 l-h-normal txt-color-primary",children:["$",S.totalAmount]})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{className:"f-18 f-w-500 l-h-normal txt-primary",children:"Payment Details"}),null!==L&&void 0!==L&&L.length?Object(v.jsx)("p",{className:"f-14 f-w-400 l-h-normal txt-primary mt-20 mb-16",children:"Your Save Card Details"}):Object(v.jsx)("p",{className:"f-14 f-w-400 l-h-normal txt-primary mt-20 mb-16 text-center",children:"Card not found"}),null===L||void 0===L?void 0:L.map((function(e,t){return Object(v.jsxs)("div",{className:"d-flex align-center justify-between mb-16",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{className:"f-14 f-w-400 l-h-normal txt-tertiary mb-6",children:e.isCreditCard?"Credit Card":"Debit Card"}),Object(v.jsx)("p",{className:"f-14 f-w-400 l-h-normal txt-primary",children:e.nameOnCard}),Object(v.jsxs)("p",{className:"f-14 f-w-400 l-h-normal txt-primary mt-4",children:[".... .... .... ",e.cardNumber]}),Object(v.jsx)("p",{className:"f-14 f-w-400 l-h-normal txt-tertiary mt-6",children:"".concat(e.expiryMonth,"/").concat(e.expiryYear)})]}),Object(v.jsx)(p.a,{onClick:function(){return U(e.cardId)},variant:"contained",color:"primary",size:"small",children:"Remove Card"})]},t)}))]}),Object(v.jsx)(b.f,{})]}),Object(v.jsx)("div",{className:"pb-24",children:Object(v.jsx)(p.a,{onClick:M,variant:"contained",color:"secondary",size:"large",fullWidth:!0,children:"Confirm Purchase"})})]})}),Object(v.jsx)(b.a,{loading:C||r||I})]})};t.default=o.a.memo(y)}}]);
//# sourceMappingURL=10.61da1a69.chunk.js.map