(this["webpackJsonpswl-webapp"]=this["webpackJsonpswl-webapp"]||[]).push([[9],{334:function(e,t,a){"use strict";var r;a.d(t,"a",(function(){return r})),function(e){e.Fiat="fiat",e.crypto="crypto",e.Iap="iap"}(r||(r={}))},394:function(e,t,a){},463:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(9),n=a(15),s=a(1),i=a.n(s),o=a(80),l=a(20),d=a(146),p=a(137),u=a(323),b=a(97),j=a(35),f=a(334),m=a(134),x=(a(394),a(136)),h=a(135),v=a(140),O=a(5),y=function(){var e=Object(s.useState)(!1),t=Object(n.a)(e,2),a=t[0],i=t[1],y=Object(s.useState)(!1),w=Object(n.a)(y,2),k=(w[0],w[1],Object(o.c)((function(e){return null===e||void 0===e?void 0:e.userDetails}))),g=k.isLoading,N=Object(d.b)(),P=N.library,C=N.account,D=Object(p.b)().enqueueSnackbar,T=Object(l.k)().state,E=Object(l.n)(),R=T,A=R.selectedPoints,F=R.subscription,S=R.pointsPackageName,W=function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var t,a,c,n,s,o,l,d;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,m.a.post(x.a.cryptoTotalCost,{id:A.id});case 3:if(t=e.sent,null===(a=t.data)||void 0===a||!a.data){e.next=27;break}if(c=a.data,n=c.maticPrice,s=c.toAddress,e.prev=7,!C){e.next=20;break}return e.next=11,null===P||void 0===P||null===(o=P.provider)||void 0===o?void 0:o.request({method:"eth_sendTransaction",params:[{from:C,to:s,value:n}]});case 11:if(!(l=e.sent)){e.next=18;break}return e.next=15,m.a.post(x.a.cryptoTransfer,{id:A.id,txId:l});case 15:d=e.sent,d.data.data&&E(j.a.viewBalance);case 18:e.next=21;break;case 20:D(h.a.appError,{variant:"error",persist:!1,preventDuplicate:!0});case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),i(!1),e.t0.code===v.a.CRYPTO_ERR0R_CODE?D(e.t0.message,{variant:"error",persist:!1,preventDuplicate:!0}):D(h.a.appError,{variant:"error",persist:!1,preventDuplicate:!0});case 27:i(!1);case 28:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{loading:g||a}),Object(O.jsx)("div",{className:"my-subscription-content p-24",children:Object(O.jsxs)("div",{className:"d-flex flex-column justify-between h-100",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{className:"f-18 f-w-500 l-h-normal txt-primary text-center mb-24",children:"Cart"}),Object(O.jsx)(b.c,{selectedPoints:A,subscription:F}),Object(O.jsx)("div",{className:"my-20",children:Object(O.jsxs)("div",{className:"d-flex justify-between py-12 border-top-light border-bottom-light",children:[Object(O.jsx)("p",{className:"f-16 f-w-600 l-h-normal txt-primary",children:"Total"}),Object(O.jsxs)("p",{className:"f-16 f-w-400 l-h-normal txt-color-primary",children:["$",A.totalAmount]})]})}),Object(O.jsx)(b.f,{})]}),Object(O.jsx)("div",{className:"pb-24",children:S===f.a.Fiat?Object(O.jsx)(u.a,{onClick:function(){return E(j.a.confirmPurchases,{state:{selectedPoints:A,subscription:F}})},variant:"contained",color:"primary",size:"large",fullWidth:!0,children:"Add Payment Details"}):Object(O.jsx)(u.a,{onClick:W,variant:"contained",color:"primary",size:"large",fullWidth:!0,children:"Pay With Crypto"})})]})})]})};t.default=i.a.memo(y)}}]);
//# sourceMappingURL=9.a07fee9d.chunk.js.map